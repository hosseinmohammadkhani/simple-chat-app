<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <link rel="stylesheet" href="css/bootstrap-rtl.min.css" />
        <link rel="stylesheet" href="css/styles.css" />
        <title>ورود به چت</title>
    </head>
    <body class="rtl text-center">
        <form id="usernameForm" class="form-signin">
            <h1 class="h3 mb-3 font-weight-normal">
                لطفاً نام کاربری خود را وارد کنید
            </h1>
            <label for="usernameInput" class="sr-only">نام کاربری</label>
            <input
                type="text"
                name="username"
                id="usernameInput"
                class="form-control"
                placeholder="نام کاربری"
                required
                autofocus
            />

            <label for="chatrooms"></label>
            <select name="chatrooms" id="chatrooms">
                <optgroup>
                    <option value="room1">چت روم 1</option>
                    <option value="room2">چت روم 2</option>
                    <option value="room3">چت روم 3</option>
                </optgroup>
            </select>

            <button class="mt-3 btn-lg btn-primary btn-block" type="submit">
                ورود به چت
            </button>
        </form>
        <script>
            const usernameInput = document.getElementById("usernameInput"),
            usernameForm = document.getElementById("usernameForm"),
            chatRoomId = document.getElementById("chatrooms")
            usernameForm.addEventListener("submit" , e => {
                e.preventDefault()
                if(usernameInput.value){
                    localStorage.setItem("username" , usernameInput.value)
                    localStorage.setItem("chatroom" , chatRoomId.value)
                    window.location.replace("/chat.html")
                }
            })

        </script>
    </body>
</html>